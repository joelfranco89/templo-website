<% include header.ejs %>





 

  <%if (message && message.length > 0){%>
    <div class="alert alert-info">
      <%=message%>
    </div>
  <%}%>  

  <div class="container">

  <div class="row">
      
    <div class="col-sm-12 col-md-9">  

      <div class="row">
          <% for (i = 0; i < 40; i++) { %>       
            

              <div class="col-sm-12 mb-1">
                <div class="card">
                  <div class="card-header">
                     <a href="/question/<%=questions[i].id%>" class="text-dark"> <%= questions[i].question.charAt(0).toUpperCase() + questions[i].question.slice(1) %></a>
                  </div>
                  <div class="card-body pb-0" style="font-size: 13px;">
                   <p><%=questions[i].answers.length%> answers&nbsp; <span><%=questions[i].views%> views &nbsp;<i class="far fa-thumbs-up"></i>&nbsp;<%= questions[i].helpful %>&nbsp;&nbsp;<i class="far fa-thumbs-down"></i>&nbsp;<%= questions[i].notHelpful %></span></p> 
                   <p></p>
                  </div>
                </div>
              </div>
 
              <% } %>
            </div>
    </div>
  

          
      


    <div class="col-sm-12 col-md-3 "> 
      <div class="list-group-item">
        <h6>Most Answered Questions</h6>
        <hr>
        <% var sortedAnsweredArray = questions.sort(function(a, b){ %>
        <% return b.answers.length-a.answers.length; %>
        <% }) %>
        <% for (i = 0; i < 5; i++){ %>
        <a href="/question/<%= sortedAnsweredArray[i]._id %>"><p class="text-dark mb-0"><%= sortedAnsweredArray[i].question.charAt(0).toUpperCase() + sortedAnsweredArray[i].question.slice(1)%></p></a>
        <br>
        <% } %>
      </div>
      
      <br>
      
      <div class="list-group-item">
        <h6>Top Viewed Questions</h6>
        <hr>
        <% var sortedViewsArray = questions.sort(function(a, b){ %>
        <% return b.views-a.views; %>
        <% }) %>
        <% for (i = 0; i < 5; i++){ %>
          <a href="/question/<%= sortedViewsArray[i]._id %>"><p class="text-dark mb-0"><%= sortedViewsArray[i].question.charAt(0).toUpperCase() + sortedViewsArray[i].question.slice(1)%></p></a>
          <br>
        <% } %>
      </div>
      
      <br>
      
      
      <div class="list-group-item">
        <h6>Most Helpful</h6>
        <hr>
        <% var sortedHelpfulArray = questions.sort(function(a, b){ %>
        <% return b.helpful-a.helpful; %>
        <% }) %>
        <% for (i = 0; i < 5; i++){ %>
        <a href="/question/<%= sortedHelpfulArray[i]._id %>"><p class="text-dark mb-0"><%= sortedHelpfulArray[i].question.charAt(0).toUpperCase() + sortedHelpfulArray[i].question.slice(1)%></p></a>
        <br>
        <% } %>
      </div>

      
      
      <br>  
      
      
      <div class="list-group-item">
        <h6>Least Helpful</h6>
        <hr>
        <% var sortedNotHelpfulArray = questions.sort(function(a, b){ %>
        <% return b.notHelpful-a.notHelpful; %>
        <% }) %>
        <% for (i = 0; i < 5; i++){ %>
        <a href="/question/<%= sortedNotHelpfulArray[i]._id %>"><p class="text-dark mb-0"><%= sortedNotHelpfulArray[i].question.charAt(0).toUpperCase() + sortedNotHelpfulArray[i].question.slice(1)%></p></a>
        <br>
        <% } %>
      </div>
      
      
      <br>
      
      </div>
    </div>

  </div>


<style>


  @media only screen and (max-width: 760px){
    .quotesDiv{
      height: 250px;;
    }
  }

    @media only screen and (min-width: 761px){
    .quotesDiv{
      height: 100px;;
    }
  }


</style>

<script>
  $(document).ready(function(){
    
    $(window).scroll(function() {
    if($(window).scrollTop() == $(document).height() - $(window).height()) {
           // ajax call get data from server and append to the div
    }
});


    
  })
</script>
  


<% include footer.ejs %>