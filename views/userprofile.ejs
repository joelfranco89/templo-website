<% include header.ejs %>
<div class="container" style="margin-top: 15%">
  <div class="row border">
    <div class="col-lg-12">
      <h1><%= user.username %></h1>
      <p>Number of questions asked:<span class="badge badge-secondary"><%= user.questions.length %></span></p>
      <p>Number of answers: <span class="badge badge-secondary"><%= user.answers.length %></span></p>
      <%if (currentUser && currentUser.username == user.username){ %>
        <a id="changeEmail" href="">Change email address</a>
      <% } %>
    </div>
  </div>
	<br>
 <div class="row">
	 <div class="col-lg-2">
	  	<h6>Feed</h6>
	  	<hr>
		<div class="list-group">
		  <a id="questionButton" class="list-group-item list-group-item-action">Questions</a>
		  <a id="answerButton" class="list-group-item list-group-item-action">Answers</a>
		</div>
	</div>
  <div class="col-lg-10" id="activityContainer">
    	<h6 id="activity">Questions</h6>
	  	<hr>
    
    <div id="questionActivity">
     <div class="row">
      <div class="col-md-9">
        <ul class="list-group">
          <% for (i = 0; i < user.questions.length ; i++){ %>
              <a href="/question/<%=user.questions[i]._id%>" class="list-group-item list-group-item-action"><%=user.questions[i].question %></a>
          <% } %>
        </ul>
      </div>
    </div>
   </div>
    
    
    <div id="answerActivity">
     <div class="row">
      <div class="col-md-9">
        <ul class="list-group">
          <% for (i = 0; i < user.answers.length ; i++){ %>
            <li class="list-group-item">
              <a href="/question/<%= user.answers[i].questionId%>" class="text-dark">
								<h2><%= user.answers[i].questionText %></h2>
							</a>
              <p>
								<strong><%= user.fullName %>'s answer:&nbsp</strong><%= user.answers[i].answer %> 
							<p>
            </li>
          <% } %>
        </ul>
      </div>
     </div>
    </div>
    
    
    
  </div>
  </div>
</div>


<script>
$(document).ready(function() {
  
  $("#questionActivity").show();
  $("#answerActivity").hide();
  
    $("#questionButton").on("click", function(){
      $("#answerActivity").hide();
      $("#questionActivity").show();
      $("#activity").text("Questions");
      
    });
  
    $("#answerButton").on("click", function(){
      $("#questionActivity").hide();
      $("#answerActivity").show();
      $("#activity").text("Answers");
    });
  
});
</script>









<% include footer.ejs %>